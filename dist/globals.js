document.addEventListener("DOMContentLoaded",()=>{!function(){let e=gsap.matchMedia();e.add("(min-width: 992px)",()=>{document.querySelectorAll(".project-gallery_wrapper").forEach(e=>{let t;if(e.classList.contains("project-gallery_set"))return;e.classList.add("project-gallery_set"),function(e){let t=JSON.parse(e.querySelector(".w-json").textContent);if(!t)return;let a=e.dataset.id,o=document.querySelector(`.project-gallery_controls[data-id="${a}"]`),r=e.querySelector(".project-gallery_inner");gsap.set(o,{y:"5.5rem"}),t.items.forEach(e=>{let t=document.createElement("div");t.classList.add("project-gallery_item"),t.setAttribute("data-id",a);let o=document.createElement("img");o.src=e.url,o.classList.add("project-gallery_img"),t.append(o),r.append(t)});let n=o.querySelector(".prev"),s=o.querySelector(".next"),l=o.querySelector(".project-gallery_nav-numbers"),i=o.querySelector(".project-gallery_close"),c=0,d=0,p=t.items.length;function u(t){c=t,l.innerHTML=`${c+1} / ${p}`;let a=e.querySelectorAll(".project-gallery_item")[c],o=e.querySelectorAll(".project-gallery_item")[d];if(gsap.to(o,{duration:.5,opacity:0,zIndex:-1,ease:"expo.inOut"}),gsap.to(a,{duration:.5,opacity:1,zIndex:1,ease:"expo.inOut"}),a.querySelector("video")&&a.querySelector("video").play(),o.querySelector("video")){let e=o.querySelector("video");e.pause(),e.currentTime=0}}l.innerHTML=`${c+1} / ${p}`,e.querySelector("video")&&e.querySelector("video").addEventListener("ended",()=>{u((c+1)%p)}),n.addEventListener("click",()=>{d=c,u(c=(c-1+p)%p,d)}),s.addEventListener("click",()=>{d=c,u(c=(c+1)%p,d)}),i.addEventListener("click",()=>{c=0,l.innerHTML=`${c+1} / ${p}`})}(e);let a=e.parentElement;function o(){let e=a.getBoundingClientRect();e.width,parentStartX=e.left,parentEndX=e.right,t=gsap.utils.mapRange(parentStartX,parentEndX,-1,1)}gsap.set(e,{transformOrigin:"center center"}),window.addEventListener("resize",o),o();let r=e.querySelectorAll(".project-gallery_item"),n=gsap.timeline({repeat:-1,paused:!1}),s=!1;gsap.set(r,{opacity:0}),gsap.set(r[1],{opacity:1});for(let e=1;e<=r.length;e++){let t=(e-1)%r.length,a=e%r.length;r[t].querySelector("video")||n.set(r[t],{opacity:0},"+=1").set(r[a],{opacity:1})}e.addEventListener("mouseenter",()=>{n&&!s&&n.pause()}),e.addEventListener("mouseleave",()=>{n&&!s&&n.play()}),e.querySelector(".project-gallery_btn");let l=e.dataset.id,i=document.querySelector(`.project-gallery_controls[data-id="${l}"] .project-gallery_close`);e&&e.addEventListener("click",()=>{!function(e,t){if(e.classList.contains("is-open"))return;lenis.stop(),gsap.to(".page_indicators, .header",{duration:.5,autoAlpha:0,ease:"expo.out"}),gsap.to(e.querySelector(".project-gallery_btn"),{duration:.5,height:"0rem",ease:"expo.out"});let a=e.dataset.id,o=document.querySelector(`.project-gallery_controls[data-id="${a}"]`),r=document.querySelectorAll(".page_left");gsap.to(r,{duration:1,width:"0vw",ease:"expo.inOut"});let n=document.querySelectorAll(".page_right");gsap.to(n,{duration:1,width:"100vw",ease:"expo.inOut",onComplete:()=>{o&&gsap.to(o,{duration:1,y:"0rem",ease:"expo.out"})}}),gsap.to(e,{width:"70vw",duration:1,ease:"expo.inOut",delay:.3,onComplete:()=>{e.classList.add("is-open")}}),"function"==typeof t&&t()}(e,()=>{if(gsap.set(r,{opacity:0,zIndex:-1}),gsap.set(r[0],{opacity:1,zIndex:1}),r[0].querySelector("video")){let e=r[0].querySelector("video");e.setAttribute("preload","metadata"),e.play()}s=!0,n.pause(),n.progress(0),gsap.to(e,{duration:.5,rotationY:0,ease:"expo.out"})})}),i&&i.addEventListener("click",()=>{!function(e,t){if(!e.classList.contains("is-open"))return;let a=e.dataset.id,o=document.querySelector(`.project-gallery_controls[data-id="${a}"]`);gsap.to(o,{duration:1,y:"5.5rem",ease:"expo.out",delay:.3,onComplete:()=>{lenis.start(),gsap.to(".page_indicators, .header",{duration:.5,autoAlpha:1,ease:"expo.out"})}});let r=document.querySelectorAll(".page_left");gsap.to(r,{duration:1,delay:.3,width:"50vw",ease:"expo.inOut"});let n=document.querySelectorAll(".page_right");gsap.to(n,{duration:1,delay:.3,width:"calc(50vw - 12px)",ease:"expo.inOut"}),e.classList.remove("is-open"),gsap.to(e,{duration:1,width:"30vw",ease:"expo.inOut",onComplete:()=>{gsap.to(e.querySelector(".project-gallery_btn"),{duration:.5,height:"2rem",ease:"expo.out"}),"function"==typeof t&&t()}})}(e,()=>{if(s=!1,gsap.set(r,{opacity:0,zIndex:-1}),gsap.set(r[1],{opacity:1,zIndex:1}),n.progress(0),n.play(),r[0].querySelector("video")){let e=r[0].querySelector("video");e.pause(),e.currentTime=0}})}),a.addEventListener("mousemove",a=>{if(s)return;let o=t(a.pageX);gsap.to(e,{duration:.5,rotationY:20*o,ease:"expo.out"})}),a.addEventListener("mouseleave",()=>{s||gsap.to(e,{duration:.5,rotationY:0,ease:"expo.out"})})})}),e.add("(max-width: 991px)",()=>{let e=document.querySelectorAll(".project-slider_wrapper");e&&e.forEach(e=>{e.classList.contains("project-slider_set")||(e.classList.add("project-slider_set"),function(e){let t=e.querySelector("video"),a=e.querySelector(".swiper-wrapper"),o=e.querySelectorAll(".swiper-slide");if(t){let r=o[0].cloneNode(!0),n=document.createElement("div");n.classList.add("video_wrapper"),r.innerHTML="",n.appendChild(t),r.appendChild(n),a.prepend(r),t.setAttribute("preload","metadata"),new Swiper(e.querySelector(".swiper"),{slidesPerView:"auto",spaceBetween:24,speed:500})}}(e))})})}(),function(){let e=gsap.matchMedia();e.add("(min-width: 992px)",()=>{!function(){let e=document.querySelectorAll(".page-spacer");if(!e)return;let t="!1€5@#][6&$(=)£AF/&(234$$2N€O=(!@[ ";function a(e){e.forEach(e=>{gsap.to(e,{duration:1,scrambleText:{text:e.dataset.text,chars:t,delimiter:" "}})})}function o(e){e.forEach(e=>{gsap.to(e,{duration:1,scrambleText:{text:"",chars:t,delimiter:" "}})})}function r(e){e&&gsap.to(e,{duration:.5,stagger:.02,scale:1,ease:"expo.inOut"})}function n(e){e&&gsap.to(e,{duration:.5,stagger:.02,scale:0,ease:"expo.inOut"})}function s(e,t){let a=[];return e.forEach(e=>{let o=e.querySelectorAll(t);o&&o.forEach(e=>{a.push(e)})}),a}gsap.set(document.querySelectorAll("[data-stagger-btn]"),{scale:0}),e.forEach(e=>{let t=e.dataset.id||null;if(!t)return;let l=document.querySelectorAll(`[data-section="${t}"]`);if(!l)return;let i=s(l,"[data-stagger]");if(!i)return;i.forEach(e=>{let t=document.createElement("span");t.classList.add("scramble-wrapper");let a=e.cloneNode(!0);a.setAttribute("aria-hidden","true"),t.appendChild(a),e.parentNode.appendChild(t),t.appendChild(e),e.dataset.text=e.textContent,e.textContent=""});let c=s(l,"[data-stagger-btn]"),d=s(l,".image_bg-wrapper"),p=s(l,".project-gallery_wrapper");p&&(gsap.set(p,{rotateX:180}),gsap.set(p,{display:"none"})),gsap.timeline({scrollTrigger:{trigger:e,start:"top center",end:"bottom center",onEnter:()=>{a(i),r(c),function(e){if(!e)return;let t=s(e,"img");gsap.to(e,{duration:1,clipPath:"inset(0%)",ease:"expo.out"}),gsap.fromTo(t,{scale:1.2},{duration:1,scale:1,ease:"expo.out"})}(d),gsap.set(p,{display:"flex"}),gsap.to(p,{rotateX:0,duration:1,ease:"expo.out"})},onLeave:()=>{o(i),n(c),gsap.to(p,{rotateX:-180,duration:1,ease:"expo.out",onComplete:()=>{gsap.set(p,{display:"none"})}})},onEnterBack:()=>{a(i),r(c),gsap.set(p,{display:"flex"}),gsap.to(p,{rotateX:0,duration:1,ease:"expo.out"})},onLeaveBack:()=>{o(i),n(c),function(e){if(!e)return;let t=s(e,"img");gsap.to(e,{duration:1,clipPath:"inset(50%)",ease:"expo.out"}),gsap.to(t,{duration:1,scale:1.2,ease:"expo.out"})}(d),gsap.to(p,{rotateX:180,duration:1,ease:"expo.out",onComplete:()=>{gsap.set(p,{display:"none"})}})}}})})}()}),e.add("(max-width: 991px)",()=>{!function(){if(!document.querySelectorAll(".page-spacer"))return;gsap.set(document.querySelectorAll("[data-stagger-btn]"),{scale:0});let e=document.querySelectorAll("[data-stagger]"),t=document.querySelectorAll("[data-stagger-btn]");e.forEach(e=>{let t=document.createElement("span");t.classList.add("scramble-wrapper");let a=e.cloneNode(!0);a.setAttribute("aria-hidden","true"),t.appendChild(a),e.parentNode.appendChild(t),t.appendChild(e),e.dataset.text=e.textContent,e.textContent="",gsap.timeline({scrollTrigger:{trigger:e,start:"bottom bottom",once:!0,onEnter:()=>{[e].forEach(e=>{gsap.to(e,{duration:1,scrambleText:{text:e.dataset.text,chars:"!1€5@#][6&$(=)£AF/&(234$$2N€O=(!@[ ",delimiter:" "}})})}}})}),t.forEach(e=>{console.log("button",e),gsap.timeline({scrollTrigger:{trigger:e,start:"bottom bottom",once:!0,onEnter:()=>{var t;t=[e],gsap.to(t,{duration:.5,stagger:.02,scale:1,ease:"expo.inOut"})}}})})}()})}(),document.querySelectorAll(".about_marquee-row").forEach(e=>{let t=e.classList.contains("right")?100:-100,a=e.querySelectorAll(".about-marquee-el");gsap.to(a,{xPercent:t,duration:30,ease:"none",repeat:-1})}),function(){let e,t=document.getElementById("hero");if(!t)return;let a=document.querySelector(".indicator_el.arrow");if(!a)return;let o=a.querySelector(".indicator_icon"),r=a.querySelectorAll("rect");gsap.set(a,{scale:0}),gsap.set(r,{opacity:0});let n=gsap.to(o,{duration:.5,yPercent:10,repeat:1,yoyo:!0,paused:!0,onComplete:function(){e&&n.restart()}});function s(){gsap.to(a,{scale:1,duration:.5,ease:"expo.out"}),gsap.to(r,{opacity:1,duration:0,stagger:{each:.01,from:"random"}})}function l(){gsap.to(a,{scale:0,duration:.5,ease:"expo.out"}),gsap.to(r,{opacity:0,duration:.5,stagger:{each:.01,from:"random"}})}gsap.timeline({scrollTrigger:{trigger:t,start:"top center",end:"bottom center",onEnter:()=>{s()},onLeave:()=>{l()},onEnterBack:()=>{s()},onLeaveBack:()=>{l()}}}),a.addEventListener("mouseenter",()=>{e=!0,n.play(),0==n.progress()&&n.restart()}),a.addEventListener("mouseleave",()=>{e=!1})}(),function(){let e=document.getElementById("work"),t=document.querySelector(".indicator_el.numbers"),a=document.querySelector(".projects-indicator_wrapper"),o=gsap.matchMedia();o.add("(max-width: 991px)",()=>{}),o.add("(min-width: 992px)",()=>{var o,r,n;o=e,r=t,n=a,o&&r&&n&&(gsap.set(n,{yPercent:-100}),gsap.to(n,{yPercent:100,ease:"none",scrollTrigger:{trigger:o,start:"top center",end:"bottom center",scrub:!0}}),gsap.set(r,{scale:0}),gsap.timeline({scrollTrigger:{trigger:o,start:"top center",end:"bottom center",onEnter:()=>{gsap.to(r,{scale:1,duration:.5,ease:"expo.out"})},onLeave:()=>{gsap.to(r,{scale:0,duration:.5,ease:"expo.out"})},onEnterBack:()=>{gsap.to(r,{scale:1,duration:.5,ease:"expo.out"})},onLeaveBack:()=>{gsap.to(r,{scale:0,duration:.5,ease:"expo.out"})}}}))})}(),function(){let e=document.querySelectorAll("#work .page-spacer"),t=document.querySelectorAll(".indicator_icon.number");function a(e){gsap.to(e,{opacity:1,duration:0,stagger:{each:.01,from:"random"}})}function o(e){gsap.to(e,{opacity:0,duration:0,stagger:{each:.01,from:"random"}})}e&&t&&e.forEach((e,r)=>{let n=t[r].querySelectorAll("rect");gsap.set(n,{opacity:0}),gsap.timeline({scrollTrigger:{trigger:e,start:"top center",end:"bottom center",onEnter:()=>{a(n)},onLeave:()=>{o(n)},onEnterBack:()=>{a(n)},onLeaveBack:()=>{o(n)}}})})}(),function(){let e=document.querySelector(".availability_wrapper"),t=e.querySelector(".beacon-inner"),a=e.querySelectorAll(".availability_lines"),o=gsap.timeline({repeat:-1});o.set(t,{scale:0,opacity:1}),o.to(t,{scale:2,opacity:0,duration:2,ease:"expo.out"}),e.addEventListener("mouseenter",()=>{gsap.to(a,{duration:.5,yPercent:-100,ease:"expo.out"})}),e.addEventListener("mouseleave",()=>{gsap.to(a,{duration:.5,yPercent:0,ease:"expo.out"})})}(),function(){let e=document.querySelectorAll("[data-scramble-btn]");e&&e.forEach(e=>{let t,a=e.querySelector("[data-scramble-text]"),o=e.querySelector("[data-scramble-icon]");a&&(t=a.textContent),e.addEventListener("mouseover",()=>{if(a&&gsap.to(a,{duration:.5,scrambleText:{text:t,chars:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ "}}),o){let e=o.querySelectorAll("rect");gsap.set(e,{opacity:0}),gsap.to(e,{duration:0,opacity:1,stagger:{each:.02,from:"random"}})}})})}(),function(){let e=document.querySelector(".menu"),t=document.querySelectorAll(".menu_item"),a=document.querySelectorAll(".menu_item-inner"),o=document.querySelector(".menu-trigger"),r=o.textContent;gsap.set(e,{autoAlpha:0}),gsap.set(t,{scale:0}),gsap.set(a,{opacity:0});let n=gsap.timeline({paused:!0});function s(){r="Menu",gsap.to(o,{duration:.5,scrambleText:{text:r},ease:"expo.out"}),n.reverse(),e.classList.remove("is-open")}n.set(e,{autoAlpha:1}).to(t,{duration:.5,scale:1,ease:"expo.inOut",stagger:.1},"<").to(a,{duration:.5,opacity:1,ease:"expo.inOut",stagger:.1},"<"),o.addEventListener("click",()=>{e.classList.contains("is-open")?s():(r="Close",gsap.to(o,{duration:.5,scrambleText:{text:r},ease:"expo.out"}),n.play(),e.classList.add("is-open"))}),o.addEventListener("mouseenter",()=>{gsap.to(o,{duration:.5,scrambleText:{text:r},ease:"expo.out"})}),t.forEach(e=>{e.addEventListener("click",()=>{s()})})}()});
//# sourceMappingURL=globals.js.map
