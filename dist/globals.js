document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".project-gallery_wrapper").forEach(e=>{if(e.classList.contains("project-gallery_set"))return;e.classList.add("project-gallery_set"),function(e){let t=JSON.parse(e.querySelector(".w-json").textContent);if(!t)return;let o=e.dataset.id,a=document.querySelector(`.project-gallery_controls[data-id="${o}"]`),r=e.querySelector(".project-gallery_inner");gsap.set(a,{y:"5.5rem"}),t.items.forEach(e=>{let t=document.createElement("div");t.classList.add("project-gallery_item"),t.setAttribute("data-id",o);let a=document.createElement("img");a.src=e.url,a.classList.add("project-gallery_img"),t.append(a),r.append(t)});let n=a.querySelector(".prev"),s=a.querySelector(".next"),l=a.querySelector(".project-gallery_nav-numbers"),c=a.querySelector(".project-gallery_close"),i=0,u=0,p=t.items.length;function d(t){i=t,l.innerHTML=`${i+1} / ${p}`;let o=e.querySelectorAll(".project-gallery_item")[i],a=e.querySelectorAll(".project-gallery_item")[u];if(gsap.to(a,{duration:.5,opacity:0,zIndex:-1,ease:"expo.inOut"}),gsap.to(o,{duration:.5,opacity:1,zIndex:1,ease:"expo.inOut"}),o.querySelector("video")&&o.querySelector("video").play(),a.querySelector("video")){let e=a.querySelector("video");e.pause(),e.currentTime=0}}l.innerHTML=`${i+1} / ${p}`,e.querySelector("video")&&e.querySelector("video").addEventListener("ended",()=>{d((i+1)%p)}),n.addEventListener("click",()=>{u=i,d(i=(i-1+p)%p,u)}),s.addEventListener("click",()=>{u=i,d(i=(i+1)%p,u)}),c.addEventListener("click",()=>{i=0,l.innerHTML=`${i+1} / ${p}`})}(e);let t=e.querySelectorAll(".project-gallery_item"),o=gsap.timeline({repeat:-1,paused:!1}),a=!1;gsap.set(t,{opacity:0}),gsap.set(t[1],{opacity:1});for(let e=1;e<=t.length;e++){let a=(e-1)%t.length,r=e%t.length;t[a].querySelector("video")||o.set(t[a],{opacity:0},"+=1").set(t[r],{opacity:1})}e.addEventListener("mouseenter",()=>{o&&!a&&o.pause()}),e.addEventListener("mouseleave",()=>{o&&!a&&o.play()}),e.querySelector(".project-gallery_btn");let r=e.dataset.id,n=document.querySelector(`.project-gallery_controls[data-id="${r}"] .project-gallery_close`);e&&e.addEventListener("click",()=>{!function(e,t){if(e.classList.contains("is-open"))return;lenis.stop(),gsap.to(".page_indicators, .header",{duration:.5,autoAlpha:0,ease:"expo.out"}),gsap.to(e.querySelector(".project-gallery_btn"),{duration:.5,height:"0rem",ease:"expo.out"});let o=e.dataset.id,a=document.querySelector(`.project-gallery_controls[data-id="${o}"]`),r=document.querySelectorAll(".page_left");gsap.to(r,{duration:1,width:"0vw",ease:"expo.inOut"});let n=document.querySelectorAll(".page_right");gsap.to(n,{duration:1,width:"100vw",ease:"expo.inOut",onComplete:()=>{a&&gsap.to(a,{duration:1,y:"0rem",ease:"expo.out"})}}),gsap.to(e,{width:"70vw",duration:1,ease:"expo.inOut",delay:.3,onComplete:()=>{e.classList.add("is-open")}}),"function"==typeof t&&t()}(e,()=>{if(gsap.set(t,{opacity:0,zIndex:-1}),gsap.set(t[0],{opacity:1,zIndex:1}),t[0].querySelector("video")){let e=t[0].querySelector("video");e.setAttribute("preload","metadata"),e.play()}a=!0,o.pause(),o.progress(0)})}),n&&n.addEventListener("click",()=>{!function(e,t){if(!e.classList.contains("is-open"))return;let o=e.dataset.id,a=document.querySelector(`.project-gallery_controls[data-id="${o}"]`);gsap.to(a,{duration:1,y:"5.5rem",ease:"expo.out",delay:.3,onComplete:()=>{lenis.start(),gsap.to(".page_indicators, .header",{duration:.5,autoAlpha:1,ease:"expo.out"})}});let r=document.querySelectorAll(".page_left");gsap.to(r,{duration:1,delay:.3,width:"50vw",ease:"expo.inOut"});let n=document.querySelectorAll(".page_right");gsap.to(n,{duration:1,delay:.3,width:"calc(50vw - 12px)",ease:"expo.inOut"}),e.classList.remove("is-open"),gsap.to(e,{duration:1,width:"30vw",ease:"expo.inOut",onComplete:()=>{gsap.to(e.querySelector(".project-gallery_btn"),{duration:.5,height:"2rem",ease:"expo.out"}),"function"==typeof t&&t()}})}(e,()=>{if(a=!1,gsap.set(t,{opacity:0,zIndex:-1}),gsap.set(t[1],{opacity:1,zIndex:1}),o.progress(0),o.play(),t[0].querySelector("video")){let e=t[0].querySelector("video");e.pause(),e.currentTime=0}})})}),function(){let e=document.querySelectorAll(".page-spacer");if(!e)return;let t="!1€5@#][6&$(=)£AF/&(234$$2N€O=(!@[ ";function o(e){e.forEach(e=>{gsap.to(e,{duration:1,scrambleText:{text:e.dataset.text,chars:t,delimiter:" "}})})}function a(e){e.forEach(e=>{gsap.to(e,{duration:1,scrambleText:{text:"",chars:t,delimiter:" "}})})}function r(e){e&&gsap.to(e,{duration:.5,stagger:.02,scale:1,ease:"expo.inOut"})}function n(e){e&&gsap.to(e,{duration:.5,stagger:.02,scale:0,ease:"expo.inOut"})}function s(e,t){let o=[];return e.forEach(e=>{let a=e.querySelectorAll(t);a&&a.forEach(e=>{o.push(e)})}),o}gsap.set(document.querySelectorAll("[data-stagger-btn]"),{scale:0}),e.forEach(e=>{let t=e.dataset.id||null;if(!t)return;let l=document.querySelectorAll(`[data-section="${t}"]`);if(!l)return;let c=s(l,"[data-stagger]");if(!c)return;c.forEach(e=>{e.dataset.text=e.textContent,e.textContent=""});let i=s(l,"[data-stagger-btn]"),u=s(l,".image_bg-wrapper"),p=s(l,".project-gallery_wrapper");p&&(gsap.set(p,{rotateX:90}),gsap.set(p,{display:"none"})),gsap.timeline({scrollTrigger:{trigger:e,start:"top center",end:"bottom center",onEnter:()=>{o(c),r(i),function(e){if(!e)return;let t=s(e,"img");gsap.to(e,{duration:1,clipPath:"inset(0%)",ease:"expo.out"}),gsap.fromTo(t,{scale:1.2},{duration:1,scale:1,ease:"expo.out"})}(u),gsap.set(p,{display:"flex"}),gsap.to(p,{rotateX:0,duration:1,ease:"expo.out"})},onLeave:()=>{a(c),n(i),gsap.to(p,{rotateX:-90,duration:1,ease:"expo.out",onComplete:()=>{gsap.set(p,{display:"none"})}})},onEnterBack:()=>{o(c),r(i),gsap.set(p,{display:"flex"}),gsap.to(p,{rotateX:0,duration:1,ease:"expo.out"})},onLeaveBack:()=>{a(c),n(i),function(e){if(!e)return;let t=s(e,"img");gsap.to(e,{duration:1,clipPath:"inset(50%)",ease:"expo.out"}),gsap.to(t,{duration:1,scale:1.2,ease:"expo.out"})}(u),gsap.to(p,{rotateX:90,duration:1,ease:"expo.out",onComplete:()=>{gsap.set(p,{display:"none"})}})}}})})}(),document.querySelectorAll(".about_marquee-row").forEach(e=>{let t=e.classList.contains("right")?100:-100,o=e.querySelectorAll(".about-marquee-el");gsap.to(o,{xPercent:t,duration:30,ease:"none",repeat:-1})}),function(){let e,t=document.getElementById("hero");if(!t)return;let o=document.querySelector(".indicator_el.arrow");if(!o)return;let a=o.querySelector(".indicator_icon"),r=o.querySelectorAll("rect");gsap.set(o,{scale:0}),gsap.set(r,{opacity:0});let n=gsap.to(a,{duration:.5,yPercent:10,repeat:1,yoyo:!0,paused:!0,onComplete:function(){e&&n.restart()}});function s(){gsap.to(o,{scale:1,duration:.5,ease:"expo.out"}),gsap.to(r,{opacity:1,duration:0,stagger:{each:.01,from:"random"}})}function l(){gsap.to(o,{scale:0,duration:.5,ease:"expo.out"}),gsap.to(r,{opacity:0,duration:.5,stagger:{each:.01,from:"random"}})}gsap.timeline({scrollTrigger:{trigger:t,start:"top center",end:"bottom center",onEnter:()=>{s()},onLeave:()=>{l()},onEnterBack:()=>{s()},onLeaveBack:()=>{l()}}}),o.addEventListener("mouseenter",()=>{e=!0,n.play(),0==n.progress()&&n.restart()}),o.addEventListener("mouseleave",()=>{e=!1})}(),function(){let e=document.getElementById("work"),t=document.querySelector(".indicator_el.numbers"),o=document.querySelector(".projects-indicator_wrapper");e&&t&&o&&(gsap.set(o,{yPercent:-100}),gsap.to(o,{yPercent:100,ease:"none",scrollTrigger:{trigger:e,start:"top center",end:"bottom center",scrub:!0}}),gsap.set(t,{scale:0}),gsap.timeline({scrollTrigger:{trigger:e,start:"top center",end:"bottom center",onEnter:()=>{gsap.to(t,{scale:1,duration:.5,ease:"expo.out"})},onLeave:()=>{gsap.to(t,{scale:0,duration:.5,ease:"expo.out"})},onEnterBack:()=>{gsap.to(t,{scale:1,duration:.5,ease:"expo.out"})},onLeaveBack:()=>{gsap.to(t,{scale:0,duration:.5,ease:"expo.out"})}}}))}(),function(){let e=document.querySelectorAll("#work .page-spacer"),t=document.querySelectorAll(".indicator_icon.number");function o(e){gsap.to(e,{opacity:1,duration:0,stagger:{each:.01,from:"random"}})}function a(e){gsap.to(e,{opacity:0,duration:0,stagger:{each:.01,from:"random"}})}e&&t&&e.forEach((e,r)=>{let n=t[r].querySelectorAll("rect");gsap.set(n,{opacity:0}),gsap.timeline({scrollTrigger:{trigger:e,start:"top center",end:"bottom center",onEnter:()=>{o(n)},onLeave:()=>{a(n)},onEnterBack:()=>{o(n)},onLeaveBack:()=>{a(n)}}})})}(),function(){let e=document.querySelector(".availability_wrapper"),t=e.querySelector(".beacon-inner"),o=e.querySelectorAll(".availability_lines"),a=gsap.timeline({repeat:-1});a.set(t,{scale:0,opacity:1}),a.to(t,{scale:2,opacity:0,duration:2,ease:"expo.out"}),e.addEventListener("mouseenter",()=>{gsap.to(o,{duration:.5,yPercent:-100,ease:"expo.out"})}),e.addEventListener("mouseleave",()=>{gsap.to(o,{duration:.5,yPercent:0,ease:"expo.out"})})}(),function(){let e=document.querySelectorAll("[data-scramble-btn]");e&&e.forEach(e=>{let t,o=e.querySelector("[data-scramble-text]"),a=e.querySelector("[data-scramble-icon]");o&&(t=o.textContent),e.addEventListener("mouseover",()=>{if(o&&gsap.to(o,{duration:.5,scrambleText:{text:t,chars:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ "}}),a){let e=a.querySelectorAll("rect");gsap.set(e,{opacity:0}),gsap.to(e,{duration:0,opacity:1,stagger:{each:.05,from:"random"}})}})})}(),function(){let e=document.querySelector(".menu"),t=document.querySelectorAll(".menu_item"),o=document.querySelectorAll(".menu_item-inner"),a=document.querySelector(".menu-trigger"),r=a.textContent;gsap.set(e,{autoAlpha:0}),gsap.set(t,{scale:0}),gsap.set(o,{opacity:0});let n=gsap.timeline({paused:!0});function s(){r="Menu",gsap.to(a,{duration:.5,scrambleText:{text:r},ease:"expo.out"}),n.reverse(),e.classList.remove("is-open")}n.set(e,{autoAlpha:1}).to(t,{duration:.5,scale:1,ease:"expo.inOut",stagger:.1},"<").to(o,{duration:.5,opacity:1,ease:"expo.inOut",stagger:.1},"<"),a.addEventListener("click",()=>{e.classList.contains("is-open")?s():(console.log("Menu closed"),r="Close",gsap.to(a,{duration:.5,scrambleText:{text:r},ease:"expo.out"}),n.play(),e.classList.add("is-open"))}),a.addEventListener("mouseenter",()=>{gsap.to(a,{duration:.5,scrambleText:{text:r},ease:"expo.out"})}),t.forEach(e=>{e.addEventListener("click",()=>{console.log("Menu item clicked"),s()})})}()});
//# sourceMappingURL=globals.js.map
